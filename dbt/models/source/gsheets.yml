version: 2

sources:
  - name: gsheets
    database: camondagster
    schema: public
    tables:
      - name: gsheet_finance_data
        meta:
          dagster:
            asset_key: ["gsheet_finance_data"]
        loaded_at_field: date_time
        description: 'Gsheets Financial Data Source'
        freshness:
          warn_after: {count: 7, period: day}
          error_after: {count: 14, period: day}
        columns:
          - name: id
            description: 'Unique Identifier for Stock and Datetime'
            data_tests:
            - unique
            - not_null
          - name: stock
            description: "Stock Code"
          - name: date_time
            description: 'Datetime stock price was pulled from Google Sheets'
          - name: price
            description: 'Price at the datetime'
          - name: _dlt_load_id
            description: 'Autogenerated DLT Column'
          - name: _dlt_id
            description: 'Autogenerated DLT Column'